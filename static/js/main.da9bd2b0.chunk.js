(this.webpackJsonppocket=this.webpackJsonppocket||[]).push([[0],{68:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n.n(c),s=n(31),a=n.n(s),i=n(27),j=n(21),u=n.n(j),o=n(29),l=n(48).a.initializeApp({apiKey:"AIzaSyAHk2QXSeNOqgP-K-sz_JRN9DCM_kfecFs",authDomain:"komugico-pocket.firebaseapp.com",projectId:"komugico-pocket",storageBucket:"komugico-pocket.appspot.com",messagingSenderId:"67764528158",appId:"1:67764528158:web:6b73940c8d132d2aa83a0f"}),b=l.firestore(),h=function(){var e=Object(o.a)(u.a.mark((function e(t,n,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.auth().signInWithEmailAndPassword(t,n);case 3:alert("success"),c.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(u.a.mark((function e(t,n,c){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.auth().createUserWithEmailAndPassword(t,n);case 3:alert("success"),c.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,c){return e.apply(this,arguments)}}(),O=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.auth().signOut();case 3:alert("success"),t.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.auth().onAuthStateChanged((function(e){e&&t(e)}));case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),alert(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),x=n(16),f=n(17),m=n(19),v=n(18),k=n(10),g=n(70),y=n(71),w=n(72),C=n(30),L=n(73),S=n(74),P=n(3),D=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var c;return Object(x.a)(this,n),(c=t.call(this,e)).state={user:null},c}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this;p((function(t){return e.setState({user:t})}))}},{key:"render",value:function(){return Object(P.jsxs)(L.a,{bg:"light",variant:"light",children:[Object(P.jsx)(C.LinkContainer,{to:"/",children:Object(P.jsx)(L.a.Brand,{href:"/",children:"4D Pocket"})}),Object(P.jsx)(C.LinkContainer,{to:"/",children:Object(P.jsx)(S.a.Link,{href:"/",children:"Home"})}),Object(P.jsx)(C.LinkContainer,{to:"/dbtest",children:Object(P.jsx)(S.a.Link,{href:"/",children:"DBTest"})}),this.state.user&&Object(P.jsxs)("div",{children:[Object(P.jsx)("p",{children:this.state.user.email}),Object(P.jsx)("p",{children:this.state.user.uid}),Object(P.jsx)(C.LinkContainer,{to:"/auth/logout",children:Object(P.jsx)(S.a.Link,{href:"/",children:"Log out"})})]}),!this.state.user&&Object(P.jsxs)("div",{children:[Object(P.jsx)(C.LinkContainer,{to:"/auth/login",children:Object(P.jsx)(S.a.Link,{href:"/",children:"Log in"})}),Object(P.jsx)(C.LinkContainer,{to:"/auth/signup",children:Object(P.jsx)(S.a.Link,{href:"/",children:"Sign up"})})]})]})}}]),n}(r.a.Component),E=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"render",value:function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(D,{}),Object(P.jsx)("br",{}),Object(P.jsx)(g.a,{fluid:!0,children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(w.a,{}),Object(P.jsx)(w.a,{xl:8,lg:8,md:8,sm:8,xs:8,children:Object(P.jsx)("h1",{children:"Home"})}),Object(P.jsx)(w.a,{})]})})]})}}]),n}(r.a.Component),_=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"render",value:function(){return Object(P.jsx)("div",{children:Object(P.jsx)(k.d,{exact:!0,path:"/",children:Object(P.jsx)(E,{})})})}}]),n}(r.a.Component),A=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"handle_submit",value:function(e){e.preventDefault();var t=e.target.elements,n=t.email,c=t.password;this.props.login(n.value,c.value,this.props.history)}},{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{children:[Object(P.jsx)(D,{}),Object(P.jsx)("br",{}),Object(P.jsx)(g.a,{fluid:!0,children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(w.a,{}),Object(P.jsx)(w.a,{xl:8,lg:8,md:8,sm:8,xs:8,children:Object(P.jsxs)("form",{onSubmit:function(t){return e.handle_submit(t)},children:[Object(P.jsxs)("label",{children:["Email",Object(P.jsx)("input",{name:"email",type:"email",placeholder:"Email"})]}),Object(P.jsxs)("label",{children:["Password",Object(P.jsx)("input",{name:"password",type:"password",placeholder:"Password"})]}),Object(P.jsx)("button",{type:"submit",children:"Log in"})]})}),Object(P.jsx)(w.a,{})]})})]})}}]),n}(r.a.Component),I=Object(k.o)(A),B=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"handle_submit",value:function(e){e.preventDefault(),this.props.logout(this.props.history)}},{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{children:[Object(P.jsx)(D,{}),Object(P.jsx)("br",{}),Object(P.jsx)(g.a,{fluid:!0,children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(w.a,{}),Object(P.jsx)(w.a,{xl:8,lg:8,md:8,sm:8,xs:8,children:Object(P.jsxs)("form",{onSubmit:function(t){return e.handle_submit(t)},children:[Object(P.jsx)("label",{children:"Press button to log out."}),Object(P.jsx)("button",{type:"submit",children:"Log out"})]})}),Object(P.jsx)(w.a,{})]})})]})}}]),n}(r.a.Component),M=Object(k.o)(B),z=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"handle_submit",value:function(e){e.preventDefault();var t=e.target.elements,n=t.email,c=t.password;this.props.signup(n.value,c.value,this.props.history)}},{key:"render",value:function(){var e=this;return Object(P.jsxs)("div",{children:[Object(P.jsx)(D,{}),Object(P.jsx)("br",{}),Object(P.jsx)(g.a,{fluid:!0,children:Object(P.jsxs)(y.a,{children:[Object(P.jsx)(w.a,{}),Object(P.jsx)(w.a,{xl:8,lg:8,md:8,sm:8,xs:8,children:Object(P.jsxs)("form",{onSubmit:function(t){return e.handle_submit(t)},children:[Object(P.jsxs)("label",{children:["Email",Object(P.jsx)("input",{name:"email",type:"email",placeholder:"Email"})]}),Object(P.jsxs)("label",{children:["Password",Object(P.jsx)("input",{name:"password",type:"password",placeholder:"Password"})]}),Object(P.jsx)("button",{type:"submit",children:"Sign up"})]})}),Object(P.jsx)(w.a,{})]})})]})}}]),n}(r.a.Component),H=Object(k.o)(z),J=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"render",value:function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)(k.d,{exact:!0,path:"/auth/login",children:Object(P.jsx)(I,{login:h})}),Object(P.jsx)(k.d,{exact:!0,path:"/auth/signup",children:Object(P.jsx)(H,{signup:d})}),Object(P.jsx)(k.d,{exact:!0,path:"/auth/logout",children:Object(P.jsx)(M,{logout:O})})]})}}]),n}(r.a.Component),T=function(e){Object(m.a)(n,e);var t=Object(v.a)(n);function n(e){var c;return Object(x.a)(this,n),(c=t.call(this,e)).updateMessage=Object(o.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,c.props.db.collection("test").get().then((function(e){e.forEach((function(e){t.push(Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{style:{border:"solid 1px"},children:Object(P.jsx)("p",{children:e.id})}),Object(P.jsx)("td",{style:{border:"solid 1px"},children:Object(P.jsx)("p",{children:e.data().message})})]}))}))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),alert(e.t0.message);case 9:c.setState({messages:t});case 10:case"end":return e.stop()}}),e,null,[[1,6]])}))),c.state={messages:[]},c}return Object(f.a)(n,[{key:"messagesTable",value:function(){return Object(P.jsx)("table",{style:{border:"solid 1px"},children:Object(P.jsx)("tbody",{children:this.state.messages})})}},{key:"render",value:function(){var e=this;return Object(P.jsx)("div",{children:Object(P.jsxs)(k.d,{exact:!0,path:"/dbtest",children:[Object(P.jsx)(D,{}),Object(P.jsx)("br",{}),Object(P.jsx)("button",{onClick:function(){return e.updateMessage()},children:"Update"}),this.messagesTable()]})})}}]),n}(r.a.Component);a.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsxs)(i.BrowserRouter,{basename:"/4DPocket",children:[Object(P.jsx)(_,{}),Object(P.jsx)(J,{}),Object(P.jsx)(T,{db:b})]})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.da9bd2b0.chunk.js.map